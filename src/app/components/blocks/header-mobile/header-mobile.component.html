<nav class="fixed top-0 left-0 w-full z-50 bg-white/90 shadow-md backdrop-blur-md">
    <div class="px-4 h-[60px] w-full   flex justify-between items-center container mx-auto">
      <div  class="w-1/5 flex items-center justify-start">

        @if (isMenuOpen()) {
          <app-back-button (click)="closeMenu()"></app-back-button>
        } @else {     
             <app-back-button></app-back-button>
        }
      </div>
      <a routerLink="/" class="w-3/5 flex items-center justify-center">
        <img src="/assets/img/ITforEach-logo.svg" alt="ITforEach Logo" class="h-5 w-auto" width="129px" height="20px" />
      </a>
  
      <button (click)="toggleMenu()" 
      aria-label="Menú" title="Menú"
      class="text-gray-500 focus:outline-none z-50 w-1/5 flex items-center justify-end">
        @if (!isMenuOpen()) {
          <!-- Icono hamburguesa -->
          <svg class="w-7 h-7" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        } @else {
          <!-- Icono X -->
          <svg class="w-7 h-7" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
          </svg>
        }
      </button>
    </div>
  </nav>

  
    @if (isMenuOpen()) {
      <div class="fixed top-[60px] left-0 w-full h-[calc(100dvh-60px)] bg-white/95 backdrop-blur-md z-40 p-6 overflow-y-auto flex flex-col justify-center items-center">
    
        <div class="flex flex-col items-center gap-4 text-lg font-medium text-gray-700 w-full">
    
          <a routerLink="/discover" (click)="closeMenu()" routerLinkActive="text-primary" [routerLinkActiveOptions]="{ exact: true }"
            class="hover:text-primary transition-colors">Descubre proyectos</a>
    
          <a routerLink="/owners" (click)="closeMenu()" routerLinkActive="text-primary" [routerLinkActiveOptions]="{ exact: true }"
            class="hover:text-primary transition-colors">Creadores</a>

          <a routerLink="/about" (click)="closeMenu()" routerLinkActive="text-primary" [routerLinkActiveOptions]="{ exact: true }"
            class="hover:text-primary transition-colors">Sobre ITforEach</a>
    
          @if (user()) {
            <div class="border-t border-gray-300 w-full mt-4 mb-4"></div>
    
            <div class="flex flex-col items-center gap-4 text-center w-full">
              @if (user()?.avatarurl) {
                <a [routerLink]="['/', user()?.githubusername]" (click)="closeMenu()">
                  <app-user-avatar [githubusername]="user()!.githubusername" [size]="64" class="h-16 w-16"></app-user-avatar>
                </a>
              }
    
              <a [routerLink]="['/', user()?.githubusername]" (click)="closeMenu()" class="hover:text-primary transition-colors">Mi Página</a>
              <a [routerLink]="['/', 'edit-profile', user()?.githubusername]" (click)="closeMenu()" class="hover:text-primary transition-colors">Editar Perfil</a>
              <a [routerLink]="['/', 'my-projects', user()?.githubusername]" (click)="closeMenu()" class="hover:text-primary transition-colors">Mis Proyectos</a>
              <a [routerLink]="['/', 'new-project', user()?.githubusername]" (click)="closeMenu()" class="btn hover:text-primary transition duration-300">Nuevo Proyecto</a>
    
              <div class="border-t border-gray-300 w-full mt-4 mb-4"></div>
    
              <app-logout-button (click)="closeMenu()"></app-logout-button>
            </div>
          } @else {
            <div class="border-t border-gray-300 w-full mt-4 mb-4"></div>
            <div class="bg-gray-700 text-white rounded-full hover:bg-primary px-4 py-2">
              <app-login-button></app-login-button>
            </div>
          }
        </div>
    
      </div>
    }
    